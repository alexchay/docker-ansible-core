# a matrix list of variables used in the container build process
# Python version are taken from ansible's support matrix
# https://docs.ansible.com/ansible/latest/reference_appendices/release_and_maintenance.html#ansible-core-support-matrix
# version: 2025.06.01.0
.parallel_matrix:
    parallel:
      matrix:
        # 2.18.6
        - ANSIBLE_CORE_VERSION: "2.18.6"
          PYTHON_VERSION: "3.12"
          BASE_IMAGE_NAME: $REGISTRY_URL/python-base
          BASE_IMAGE_TAG: "3.12-slim"
          BUILD_IMAGE_NAME: "ansible-core"
          BUILD_IMAGE_TAG: "2.18"
          BUILD_IMAGE_TAGS: "2.18-p3.12,2.18.6,2.18.6-p3.12"
        - ANSIBLE_CORE_VERSION: "2.18.6"
          PYTHON_VERSION: "3.11"
          BASE_IMAGE_NAME: $REGISTRY_URL/python-base
          BASE_IMAGE_TAG: "3.11-slim"
          BUILD_IMAGE_NAME: "ansible-core"
          BUILD_IMAGE_TAG: "2.18-p3.11"
          BUILD_IMAGE_TAGS: "2.18.6-p3.11"
        # 2.17.12
        - ANSIBLE_CORE_VERSION: "2.17.12"
          PYTHON_VERSION: "3.12"
          BASE_IMAGE_NAME: $REGISTRY_URL/python-base
          BASE_IMAGE_TAG: "3.12-slim"
          BUILD_IMAGE_NAME: "ansible-core"
          BUILD_IMAGE_TAG: "2.17"
          BUILD_IMAGE_TAGS: "2.17-p3.12,2.17.12,2.17.12-p3.12"
        - ANSIBLE_CORE_VERSION: "2.17.12"
          PYTHON_VERSION: "3.11"
          BASE_IMAGE_NAME: $REGISTRY_URL/python-base
          BASE_IMAGE_TAG: "3.11-slim"
          BUILD_IMAGE_NAME: "ansible-core"
          BUILD_IMAGE_TAG: "2.17-p3.11"
          BUILD_IMAGE_TAGS: "2.17.12-p3.11"
        # 2.16.14
        - ANSIBLE_CORE_VERSION: "2.16.14"
          PYTHON_VERSION: "3.12"
          BASE_IMAGE_NAME: $REGISTRY_URL/python-base
          BASE_IMAGE_TAG: "3.12-slim"
          BUILD_IMAGE_NAME: "ansible-core"
          BUILD_IMAGE_TAG: "2.16"
          BUILD_IMAGE_TAGS: "2.16-p3.12,2.16.14,2.16.14-p3.12"
        - ANSIBLE_CORE_VERSION: "2.16.14"
          PYTHON_VERSION: "3.11"
          BASE_IMAGE_NAME: $REGISTRY_URL/python-base
          BASE_IMAGE_TAG: "3.11-slim"
          BUILD_IMAGE_NAME: "ansible-core"
          BUILD_IMAGE_TAG: "2.16-p3.11"
          BUILD_IMAGE_TAGS: "2.16.14-p3.11"
        - ANSIBLE_CORE_VERSION: "2.16.14"
          PYTHON_VERSION: "3.10"
          BASE_IMAGE_NAME: $REGISTRY_URL/python-base
          BASE_IMAGE_TAG: "3.10-slim"
          BUILD_IMAGE_NAME: "ansible-core"
          BUILD_IMAGE_TAG: "2.16-p3.10"
          BUILD_IMAGE_TAGS: "2.16.14-p3.10"

